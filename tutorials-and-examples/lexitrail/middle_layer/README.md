To improve the responsiveness of our user interface (UI) and ensure high availability, we've introduced a middle layer service. This service acts as an intermediary between the UI and the backend database.

Here's how it works:

* Handling UI requests: When the UI needs to make certain changes (eg, update the recall state of a word for a user) to the database, it sends the request to the middle layer instead of directly to the backend.

* Asynchronous processing: The middle layer caches these requests and processes them asynchronously. This prevents the UI from being blocked while waiting for the backend to respond, resulting in a smoother user experience.

* High availability: To ensure the middle layer is always available, we manage its instances using Agones, a platform designed for scaling and orchestrating game servers. This allows us to dynamically adjust resources and handle potential failures without impacting the UI.


The [agones](/middle_layer/agones/) fold contains the Agones REST SDK which can be used within Python code. It is generated by following the [instructions](https://agones.dev/site/docs/guides/client-sdks/rest/#generating-clients). The [agones/docs/SDKApi.md](/middle_layer/agones/docs/SDKApi.md) contains instructions on how to integate the SDK in the application code.


By running `terraform apply` in the [terraform](/terraform/) folder, an Agones game server fleet of the middle layer application will be created. You can run `kubectl get gameservers` to see the game server details.